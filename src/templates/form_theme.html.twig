{% block select2_widget -%}
    {%- set dataController = (attr['data-controller']|default('') ~ ' fsuarezm--ux-select2--select2')|trim -%}

    {%- set attr = attr|merge({
        'data-controller': dataController,
        'data-fsuarezm--ux-select2--select2-config': select2_options,
    }) -%}

    {%- if autocomplete_url %}
        {%- set attr = attr|merge({
            'data-fsuarezm--ux-select2--select2-url': path(autocomplete_url),
        }) -%}
    {% endif -%}

    {{ block('choice_widget') }}
{%- endblock %}

{% block entity_select2_widget -%}
    {{ block('select2_widget') }}
{%- endblock %}
